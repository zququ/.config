(()=>{"use strict";var e={62:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TasksMacroCompletionProvider=void 0;const o=n(888),r=n(90);t.TasksMacroCompletionProvider=class{provideCompletionItems(e,t){return i(this,void 0,void 0,(function*(){const n=e.getText({start:{line:t.line,character:t.character},end:{line:t.line,character:t.character-1}});return Object.entries(yield r.genMacros()).map((e=>{let[t,{description:i,example:r}]=e;return{label:t,kind:o.CompletionItemKind.Constant,documentation:i+(""!=r?`\ne.g. \`${r}\``:""),insertText:"$"==n?`(${t})`:t}}))}))}}},602:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(888),r=n(90);t.default=class{provideHover(e,t){return i(this,void 0,void 0,(function*(){const n=o.workspace.getDocument(e.uri);if(!n)return null;const i=n.getWordRangeAtPosition(t);if(!i)return null;const a=e.getText(i)||"";if(!a)return null;const s=yield r.genMacros();if(!(a in s))return null;let{description:c,example:u}=s[a];return{contents:{kind:"markdown",value:c+(""!=u?`\ne.g. \`${u}\``:"")}}}))}}},465:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=void 0;const r=n(888),a=o(n(318)),s=n(62),c=o(n(602));t.activate=function(e){return i(this,void 0,void 0,(function*(){const{nvim:t}=r.workspace,{subscriptions:n}=e,o=r.workspace.getConfiguration("tasks"),u=new a.default(t);n.push(r.listManager.registerList(u),r.commands.registerCommand("tasks.runLastTask",(()=>i(this,void 0,void 0,(function*(){yield u.runLastTask()}))))),n.push(r.languages.registerCompletionItemProvider("coc-tasks",o.get("shortcut"),o.get("filetypes"),new s.TasksMacroCompletionProvider,o.get("triggerCharacters"),o.get("priority"),[])),n.push(r.languages.registerHoverProvider(o.get("filetypes"),new c.default))}))}},90:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.genMacros=void 0;const o=n(888),r={VIM_FILEPATH:{description:"File name of current buffer with full path",example:"/home/voldikss/naiveproject/main.c"},VIM_FILENAME:{description:"File name of current buffer without path",example:"main.c"},VIM_FILEDIR:{description:"Full path of current buffer without the file name",example:"/home/voldikss/naiveproject"},VIM_FILEEXT:{description:"File extension of current buffer",example:".c"},VIM_FILETYPE:{description:"File type (value of &ft in vim)",example:"c"},VIM_FILENOEXT:{description:"File name of current buffer without path and extension",example:"main"},VIM_PATHNOEXT:{description:"Current file name with full path but without extension",example:"/home/voldikss/naiveproject/main"},VIM_CWD:{description:"Current directory",example:"/home/voldikss/naiveproject"},VIM_RELDIR:{description:"File path relativize to current directory",example:"."},VIM_RELNAME:{description:"File name relativize to current directory",example:"main.c"},VIM_CWORD:{description:"Current word under cursor",example:""},VIM_CFILE:{description:"Current filename under cursor",example:""},VIM_CLINE:{description:"Cursor line number in current buffer",example:""},VIM_VERSION:{description:"Value of v:version",example:"800"},VIM_SVRNAME:{description:"Value of v:servername for +clientserver usage",example:"/tmp/nvimfOsenC/0"},VIM_COLUMNS:{description:"How many columns in vim's screen",example:""},VIM_LINES:{description:"How many lines in vim's screen",example:""},VIM_GUI:{description:"Is running under gui ?",example:""},VIM_ROOT:{description:"Project root directory",example:"/home/voldikss/naiveproject"},VIM_DIRNAME:{description:"Name of current directory",example:"naiveproject"},VIM_PRONAME:{description:"Name of current project root directory",example:"naiveproject"},VIM_PROFILE:{description:"Current building profile (debug/release/...)",example:"debug"},VIM_INIFILE:{description:"Full path name of current ini (.tasks) file",example:""},VIM_INIHOME:{description:"Where the ini file locates",example:""}};t.genMacros=function(){return i(this,void 0,void 0,(function*(){let{nvim:e}=o.workspace;return r.VIM_INIFILE.example=yield e.call("expand","%:p"),r.VIM_INIHOME.example=yield e.call("expand","%:p:h"),r}))}},318:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function a(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(888);class r extends o.BasicList{constructor(e){super(e),this.name="tasks",this.description="CocList for asynctasks.vim",this.defaultAction="run",this.actions=[],this.lastItem=null,this.addLocationActions(),this.addAction("run",(e=>{this.lastItem=e,this.nvim.command(`AsyncTask ${e.data.name}`,!0)}))}runLastTask(){return i(this,void 0,void 0,(function*(){null!==this.lastItem&&(yield this.nvim.command(`AsyncTask ${this.lastItem.data.name}`,!0))}))}loadItems(e){return i(this,void 0,void 0,(function*(){const e=[];if(0==(yield this.nvim.eval('exists("*asynctasks#list")')).valueOf())return[];const t=yield this.nvim.call("asynctasks#list",[""]);for(const n of t)/^\./.test(n.name)||e.push({label:`${n.name.padEnd(25)}`+`<${n.scope}>`.padEnd(10)+`:  ${n.command}`,data:n,filterText:n.name,location:o.Uri.file(n.source).toString()});return e}))}doHighlight(){let{nvim:e}=o.workspace;e.pauseNotification(),e.command("syntax match TaskName /^\\S\\+/",!0),e.command("hi def link TaskName Constant",!0),e.command("syn match TaskScope /\\s\\+<.*>\\s\\+:/",!0),e.command("hi def link TaskScope Type",!0),e.command("syn match TaskCommand /.*/ contains=TaskName,TaskScope",!0),e.command("hi def link TaskCommand Comment",!0),e.resumeNotification().catch((e=>{}))}}t.default=r},888:e=>{e.exports=require("coc.nvim")}},t={},n=function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(465),i=exports;for(var o in n)i[o]=n[o];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();